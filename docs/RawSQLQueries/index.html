<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain - RawSQLQueries</title>
    <link rel="stylesheet" type="text/css" href="./all.css" media="all" />
</head>
<body>
    <header>
        <a href="./">
            <strong>
                Domain
            </strong>
            <span>Documentation</span>
        </a>
        <sup>Beta</sup>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#methods">Methods</a><ul><li class="function"><a href="#rawsqlqueries.selectarticles(condition:readit:offset:limit:)">select​Articles(condition:​read​It:​offset:​limit:​)</a></li><li class="function"><a href="#rawsqlqueries.deletearticles(slug:)">delete​Articles(slug:​)</a></li><li class="function"><a href="#rawsqlqueries.selectuser(name:follower:)">select​User(name:​follower:​)</a></li><li class="function"><a href="#rawsqlqueries.selectuser(id:follower:)">select​User(id:​follower:​)</a></li><li class="function"><a href="#rawsqlqueries.selectcomments(for:readit:)">select​Comments(for:​read​It:​)</a></li><li class="function"><a href="#rawsqlqueries.insertcomments(for:body:author:)">insert​Comments(for:​body:​author:​)</a></li><li class="function"><a href="#rawsqlqueries.deletecomments(id:)">delete​Comments(id:​)</a></li><li class="function"><a href="#rawsqlqueries.insertfollows(followee:follower:)">insert​Follows(followee:​follower:​)</a></li><li class="function"><a href="#rawsqlqueries.deletefollows(followee:follower:)">delete​Follows(followee:​follower:​)</a></li><li class="function"><a href="#rawsqlqueries.insertfavorites(for:by:)">insert​Favorites(for:​by:​)</a></li><li class="function"><a href="#rawsqlqueries.deletefavorites(for:by:)">delete​Favorites(for:​by:​)</a></li><li class="function"><a href="#rawsqlqueries.selecttags()">select​Tags()</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Enumeration</small>
    <code class="name">Raw​SQLQueries</code>
</h1>

<html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">enum</span> <span class="type">RawSQLQueries</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Object that generates raw SQL.</p>

</div>
<div class="discussion">
    <h3>Note</h3>

<p>I wanted to get enough information in one query.
The reason for using raw query is that the following function was not found in Fluent.</p>

<ul>
<li>
<p>Sub query</p>
</li>
<li>
<p>GROUP_CONCAT(MySQL Only)</p>
</li>
<li>
<p>Distinct</p>
</li>
<li>
<p>DELETE JOIN</p>
</li>
<li>
<p>exists</p>
</li>
</ul>

<p>I may have missed it.
As an aside, I have never met OR-Mapper, which can cover the vast specifications of SQL.
This is part of the reason, I attach importance to portability over typeSafe for OR-Mapper.
There is also a growing need to adopt KVS. Database that interacts directly with the application.</p>

</div>

    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="rawsqlqueries.selectarticles(condition:readit:offset:limit:)">
    <h3>
        <code>select​Articles(condition:​read​It:​offset:​limit:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">selectArticles</span>(<span class="variable">condition</span>: <a href="./ArticleCondition"><span class="type">ArticleCondition</span></a>, <span class="variable">readIt</span> <span class="variable">userId</span>: <span class="type">Int</span>?, <span class="variable">offset</span>: <span class="type">Int</span>? = <span class="keyword">nil</span>, <span class="variable">limit</span>: <span class="type">Int</span>? = <span class="keyword">nil</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Inquires about articles according to the argument conditions.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>condition</th>
    <td><code class="type">Article​Condition</code></td>
    <td><p>Information that shows what criteria to search for articles.</p>
</td>
</tr>
<tr>
    <th>user​Id</th>
    <td><code class="type">Int?</code></td>
    <td><p>ID of the user reading this article. If nil, following is false.</p>
</td>
</tr>
<tr>
    <th>offset</th>
    <td><code class="type">Int?</code></td>
    <td><p>Search result offset. Nil is not set.</p>
</td>
</tr>
<tr>
    <th>limit</th>
    <td><code class="type">Int?</code></td>
    <td><p>Search result limit. Nil is unlimited.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.deletearticles(slug:)">
    <h3>
        <code>delete​Articles(slug:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">deleteArticles</span>(<span class="variable">slug</span>: <span class="type">String</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. It deletes an article and related tags and favorite information.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>slug</th>
    <td><code class="type">String</code></td>
    <td><p>Article's slug for delete.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.selectuser(name:follower:)">
    <h3>
        <code>select​User(name:​follower:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">selectUser</span>(<span class="variable">name</span>: <span class="type">String</span>, <span class="variable">follower</span> <span class="variable">id</span>: <span class="type">Int</span>?) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Inquiries about users and their follow-up information.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>name</th>
    <td><code class="type">String</code></td>
    <td><p>Username to search for.</p>
</td>
</tr>
<tr>
    <th>id</th>
    <td><code class="type">Int?</code></td>
    <td><p>User's ID searching for the user. If nil, following is false.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.selectuser(id:follower:)">
    <h3>
        <code>select​User(id:​follower:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">selectUser</span>(<span class="variable">id</span> <span class="variable">userId</span>: <span class="type">Int</span>, <span class="variable">follower</span> <span class="variable">id</span>: <span class="type">Int</span>?) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Inquiries about users and their follow-up information.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>user​Id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's ID to search for.</p>
</td>
</tr>
<tr>
    <th>id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's ID searching for the user. If nil, following is false.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.selectcomments(for:readit:)">
    <h3>
        <code>select​Comments(for:​read​It:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">selectComments</span>(<span class="variable">for</span> <span class="variable">articleSlug</span>: <span class="type">String</span>, <span class="variable">readIt</span> <span class="variable">userId</span>: <span class="type">Int</span>? = <span class="keyword">nil</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Get comments associated with an article.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>article​Slug</th>
    <td><code class="type">String</code></td>
    <td><p>Article's slug to be commented.</p>
</td>
</tr>
<tr>
    <th>user​Id</th>
    <td><code class="type">Int?</code></td>
    <td><p>User who gets the comment. If nil, following is false.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.insertcomments(for:body:author:)">
    <h3>
        <code>insert​Comments(for:​body:​author:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">insertComments</span>(<span class="variable">for</span> <span class="variable">articleSlug</span>: <span class="type">String</span>, <span class="variable">body</span>: <span class="type">String</span>, <span class="variable">author</span> <span class="variable">userId</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Inserts a comment associated with an article.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>article​Slug</th>
    <td><code class="type">String</code></td>
    <td><p>Article's slug to be commented.</p>
</td>
</tr>
<tr>
    <th>body</th>
    <td><code class="type">String</code></td>
    <td><p>A comment body.</p>
</td>
</tr>
<tr>
    <th>user​Id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's ID to comment.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.deletecomments(id:)">
    <h3>
        <code>delete​Comments(id:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">deleteComments</span>(<span class="variable">id</span> <span class="variable">commentId</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Delete the comment.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>comment​Id</th>
    <td><code class="type">Int</code></td>
    <td><p>Comment ID for delete.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.insertfollows(followee:follower:)">
    <h3>
        <code>insert​Follows(followee:​follower:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">insertFollows</span>(<span class="variable">followee</span> <span class="variable">username</span>: <span class="type">String</span>, <span class="variable">follower</span> <span class="variable">id</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Insert follow information associated with a user.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>username</th>
    <td><code class="type">String</code></td>
    <td><p>Username to be followed.</p>
</td>
</tr>
<tr>
    <th>id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's Id to follow.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.deletefollows(followee:follower:)">
    <h3>
        <code>delete​Follows(followee:​follower:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">deleteFollows</span>(<span class="variable">followee</span> <span class="variable">username</span>: <span class="type">String</span>, <span class="variable">follower</span> <span class="variable">id</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Delete follow information associated with a user.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>username</th>
    <td><code class="type">String</code></td>
    <td><p>Username to be unfollowed.</p>
</td>
</tr>
<tr>
    <th>id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's Id to unfollow.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.insertfavorites(for:by:)">
    <h3>
        <code>insert​Favorites(for:​by:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">insertFavorites</span>(<span class="variable">for</span> <span class="variable">articleSlug</span>: <span class="type">String</span>, <span class="variable">by</span> <span class="variable">userId</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. Inserts favorite information associated with an article.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>article​Slug</th>
    <td><code class="type">String</code></td>
    <td><p>Article's slug to be favorited.</p>
</td>
</tr>
<tr>
    <th>user​Id</th>
    <td><code class="type">Int</code></td>
    <td><p>User's Id to favorite.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.deletefavorites(for:by:)">
    <h3>
        <code>delete​Favorites(for:​by:​)</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">deleteFavorites</span>(<span class="variable">for</span> <span class="variable">articleSlug</span>: <span class="type">String</span>, <span class="variable">by</span> <span class="variable">userId</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. This deletes favorite information associated with an article.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>article​Slug</th>
    <td><code class="type">String</code></td>
    <td><p><code>Article</code>'s slug to be unfavorited.</p>
</td>
</tr>
<tr>
    <th>user​Id</th>
    <td><code class="type">Int</code></td>
    <td><p><code>User</code>'s Id to unfavorite.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
<div role="article" class="function" id="rawsqlqueries.selecttags()">
    <h3>
        <code>select​Tags()</code>
    </h3>
    <html><body><pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">selectTags</span>() -&gt; <span class="type">String</span></code></pre></body></html>
<div class="summary" role="doc-abstract">
    <p>Returns the query. It returns the tag registered in the database as unique.</p>

</div>
  <h4>Returns</h4>
  <p>SQL query string.</p>

</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2020-09-09T14:57:50+0900">2020年9月9日</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-beta.3</span>.
</p>
    </footer>
</body>
</html>
